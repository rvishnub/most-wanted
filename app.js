var dataObject = { 
	"272822514" : { 
	  "firstName": "Billy",
	  "lastName": "Bob",
	  "gender": "male",
	  "dob": "1/18/1949",
	  "height": 71,
	  "weight": 175,
	  "eyeColor": "brown",
	  "occupation": "programmer",
	  "parents": [],
	  "currentSpouse": 401222887 
	},
	"401222887" : { 
	  "firstName": "Uma",
	  "lastName": "Bob",
	  "gender": "female",
	  "dob": "4/1/1947",
	  "height": 65,
	  "weight": 162,
	  "eyeColor": "brown",
	  "occupation": "assistant",
	  "parents": [],
	  "currentSpouse": 272822514 
	},
	"409574486" : { 
	  "firstName": "Michael",
	  "lastName": "Walkens",
	  "gender": "male",
	  "dob": "5/9/1951",
	  "height": 76,
	  "weight": 250,
	  "eyeColor": "brown",
	  "occupation": "landscaper",
	  "parents": [],
	  "currentSpouse": 260451248 
	},
	"260451248" : {
	  "firstName": "Jon",
	  "lastName": "Walkens",
	  "gender": "male",
	  "dob": "9/6/1945",
	  "height": 62,
	  "weight": 115,
	  "eyeColor": "brown",
	  "occupation": "assistant",
	  "parents": [],
	  "currentSpouse": 409574486 
	},
	"629807187" : {
	  "firstName": "Jack",
	  "lastName": "Pafoy",
	  "gender": "male",
	  "dob": "3/16/1938",
	  "height": 70,
	  "weight": 207,
	  "eyeColor": "black",
	  "occupation": "nurse",
	  "parents": [],
	  "currentSpouse": 464142841 
	},
	"464142841" : {
	  "firstName": "Jen",
	  "lastName": "Pafoy",
	  "gender": "female",
	  "dob": "4/10/1940",
	  "height": 72,
	  "weight": 256,
	  "eyeColor": "black",
	  "occupation": "student",
	  "parents": [],
	  "currentSpouse": 629807187 
	},
	"982411429" : {
	  "firstName": "Mister",
	  "lastName": "Potatoo",
	  "gender": "male",
	  "dob": "12/18/1952",
	  "height": 66,
	  "weight": 170,
	  "eyeColor": "hazel",
	  "occupation": "architect",
	  "parents": [],
	  "currentSpouse": 595767575 
	},
	"595767575" : {
	  "firstName": "Missuz",
	  "lastName": "Potatoo",
	  "gender": "female",
	  "dob": "10/28/1948",
	  "height": 59,
	  "weight": 137,
	  "eyeColor": "blue",
	  "occupation": "architect",
	  "parents": [],
	  "currentSpouse": 982411429 
	},
	"693243224" : {
	  "firstName": "Joy",
	  "lastName": "Madden",
	  "gender": "female",
	  "dob": "4/20/1939",
	  "height": 69,
	  "weight": 199,
	  "eyeColor": "hazel",
	  "occupation": "doctor",
	  "parents": [],
	  "currentSpouse": 693243224 
	},
	"888201200" : {
	  "firstName": "Mader",
	  "lastName": "Madden",
	  "gender": "male",
	  "dob": "5/6/1937",
	  "height": 76,
	  "weight": 205,
	  "eyeColor": "black",
	  "occupation": "landscaper",
	  "parents": [],
	  "currentSpouse": 888201200 
	},
	"878013758" : {
	  "firstName": "Jill",
	  "lastName": "Pafoy",
	  "gender": "Bob",
	  "dob": "2/8/1972",
	  "height": 74,
	  "weight": 118,
	  "eyeColor": "brown",
	  "occupation": "programmer",
	  "parents": [401222887,401222887],
	  "currentSpouse": 294874671 
	},
	"951747547" : {
	  "firstName": "Ralph",
	  "lastName": "Bob",
	  "gender": "male",
	  "dob": "12/23/1969",
	  "height": 66,
	  "weight": 179,
	  "eyeColor": "blue",
	  "occupation": "nurse",
	  "parents": [401222887,401222887],
	  "currentSpouse": 159819275 
	},
	"159819275" : {
	  "firstName": "Jasmine",
	  "lastName": "Bob",
	  "gender": "female",
	  "dob": "12/18/1969",
	  "height": 58,
	  "weight": 156,
	  "eyeColor": "blue",
	  "occupation": "assistant",
	  "parents": [409574486,260451248],
	  "currentSpouse": 951747547 
	},
	"348457184" : {
	  "firstName": "Annie",
	  "lastName": "Pafoy",
	  "gender": "female",
	  "dob": "11/4/1970",
	  "height": 62,
	  "weight": 235,
	  "eyeColor": "hazel",
	  "occupation": "landscaper",
	  "parents": [629807187,464142841],
	  "currentSpouse": null 
	},
	"294874671" : {
	  "firstName": "Dave",
	  "lastName": "Pafoy",
	  "gender": "male",
	  "dob": "8/5/1967",
	  "height": 61,
	  "weight": 112,
	  "eyeColor": "green",
	  "occupation": "doctor",
	  "parents": [629807187,464142841],
	  "currentSpouse": 878013758 
	},
	"931247228" : {
	  "firstName": "Amii",
	  "lastName": "Pafoy",
	  "gender": "female",
	  "dob": "3/13/1963",
	  "height": 74,
	  "weight": 184,
	  "eyeColor": "brown",
	  "occupation": "landscaper",
	  "parents": [629807187,464142841],
	  "currentSpouse": null 
	},
	"822843554" : {
	  "firstName": "Regina",
	  "lastName": "Madden",
	  "gender": "female",
	  "dob": "7/26/1959",
	  "height": 71,
	  "weight": 249,
	  "eyeColor": "brown",
	  "occupation": "nurse",
	  "parents": [693243224, 888201200],
	  "currentSpouse": null 
	},
	"819168108" : {
	  "firstName": "Hana",
	  "lastName": "Madden",
	  "gender": "female",
	  "dob": "10/7/1953",
	  "height": 70,
	  "weight": 187,
	  "eyeColor": "brown",
	  "occupation": "politician",
	  "parents": [693243224, 888201200],
	  "currentSpouse": null 
	},
	"969837479" : {
	  "firstName": "Eloise",
	  "lastName": "Madden",
	  "gender": "female",
	  "dob": "12/11/1961",
	  "height": 63,
	  "weight": 241,
	  "eyeColor": "brown",
	  "occupation": "assistant",
	  "parents": [693243224, 888201200],
	  "currentSpouse": null 
	},
	"313207561" : {
	  "firstName": "Mattias",
	  "lastName": "Madden",
	  "gender": "male",
	  "dob": "2/19/1966",
	  "height": 70,
	  "weight": 110,
	  "eyeColor": "blue",
	  "occupation": "assistant",
	  "parents": [693243224, 888201200],
	  "currentSpouse": 313997561 
	},
	"313997561" : {
	  "firstName": "Ellen",
	  "lastName": "Madden",
	  "gender": "female",
	  "dob": "2/19/1970",
	  "height": 67,
	  "weight": 100,
	  "eyeColor": "blue",
	  "occupation": "doctor",
	  "parents": [],
	  "currentSpouse": 313207561 
	},
	"313998000" : {
	  "firstName": "Joey",
	  "lastName": "Madden",
	  "gender": "female",
	  "dob": "2/02/1987",
	  "height": 67,
	  "weight": 100,
	  "eyeColor": "blue",
	  "occupation": "doctor",
	  "parents": [313207561,313997561],
	  "currentSpouse": null 
	}
};

/*  Remove this from your final submission
function printAllToConsole(dataObj){
	for (var key in dataObj) {
		if (dataObj.hasOwnProperty(key)) {
			console.log(key + " -> " + JSON.stringify(dataObj[key]));
		}
	}
}
printAllToConsole(dataObject);
*/

function convertObjectToArray(object){
	firstArray = [];
	for(var key in object){

		object["id"] = key;
		firstArray.push(object[key]);
		console.log(object["id"]);
	}
	return firstArray;
}
	
function pushToArray(object){
	firstArray = [];
	secondArray = [];
	firstArray = convertObjectToArray(object);
	console.log(firstArray);
	for(objectItem in firstArray)
	{
		secondArray=convertObjectToArray(objectItem);
	};
	console.log(secondArray);
	return secondArray;
}

// function getArrayOfObjects(dataObject){
	// var array = dataObject.map(function(el){
	// return convertObjectToArray;
	// };
	// console.log(array);
	// return array;
// }

function forceKeyIntoObjects(object)
{
	for (key in object)
	{
		(object[key])["id"] = key;
	}
	return object;
}
kidsArray = [];
kidsNameArray = [];
function ToGetDescendants(object)
{
	var result;

	for (key in dataObject)
	{
		var yoohoo = dataObject[key];
		for (idNumber in yoohoo["parents"])
		{
			if (object["id"] == yoohoo["parents"][idNumber])
				{
					kidsArray.push(yoohoo["firstName"]+" "+yoohoo["lastName"]);
					ToGetDescendants(yoohoo);

				}


		}


	}
		return kidsArray; 
}

/*forceKeyIntoObjects(dataObject);
var someObject = initSearch();
var array = ToGetDescendants(someObject);
alert(array);*/

initSearch();

function getPersonId(firstname, lastname){
	var result;
	try{
			Object.keys(dataObject).forEach(function (key) {
			if (dataObject[key]['firstName'].toLowerCase() == firstname 
				&& dataObject[key]['lastName'].toLowerCase() == lastname)
			{
				result = key;
			}
		});

		return result;
		// if (result != null){
		// 	return result;
		// }
		// else
		// {
		// 	alert("That name was not found. Please conduct another search.");
		// 	initSearch();
		// }
	}
	catch (err){
		console.log(err);
	}

}

function GetNameInput(message){
	var yourName = prompt(message);
	nameArray = yourName.toLowerCase().split(" ");
	if (nameArray.length != 2){
		alert("Please enter a first name and a last name (example: John Doe");
		GetNameInput(message);
	}
	else{
		return nameArray;
	}

}

function initSearch(){
	var result;
	try {
		var personId;
		var nameArray;
		var criteria = prompt("What type of search would you like to conduct? Please enter one of the four types OR up to five comma-separated filter options.\n\nTYPES\n\nname\n\ndescendants\n\nimmediate family\n\nnext of kin\n\nFILTER OPTIONS:\n\nage\n\n\age range\n\nheight\n\nweight\n\noccupation\n\neye color");
		//criteriaArray = criteria.toLowerCase().split(",");
     	// then pass that info to the respective function.
		switch (criteria) {
			case "name":
				nameArray = GetNameInput("For whom would you like to search?");
				personId = getPersonId(nameArray[0], nameArray[nameArray.length-1]);
				result = getPersonInfo(personId);
				break;
	/*		case "descendants":
				nameArray = GetNameInput("For whose descendants would you like to search?");
				var personId = getPersonId(nameArray[0], nameArray[nameArray.length-1]);
				getDescendants(personId);
				break;
			case "family":				
				nameArray = GetNameInput("For whose family would you like to search?");
				var personId = getPersonId(nameArray[0], nameArray[nameArray.length-1]);
				getFamily(personId);
				break;
			case "nextofkin":
				nameArray = GetNameInput("For whose next of kin would you like to search?");
				var personId = getPersonId(nameArray[0], nameArray[nameArray.length-1]);
				getNextOfKin(personId);
				break;*/
			// case "exit":
			// 	window.close();
			//default:
				// alert("Please enter a valid search type or filter option.");
				// initSearch();

		}
		// once the search is done, pass the results to the responder function
		responder(result);
	}
	catch (err){
		console.log(err);
	}

}

function responder(results){

	// results may be a list of strings, an object, or a single string.
	try {
		if (results != null){
			//alert(Object.keys(results).map(function(key){return results[key]}); this works
			dataArray = Object.keys(results).map(function(key){return results[key]});
			console.log(dataArray);
			alert("First name: " + dataArray[0] + "\nLast name: " + dataArray[1] + 
				"\nGender: " + dataArray[2] + "\nDate of birth: "+ dataArray[3] + "\nHeight: " + dataArray[4] + " in."+ 
				"\nWeight: " + dataArray[5] + " lbs." + "\nEye color: " + dataArray[6] +
				"\nOccupation: " + dataArray[7] + "\nParents: " + dataArray[8] +
				"\nSpouse: " + dataArray[9]);
		}
		else
		{
			alert("No match was found.");
		}

	}
	catch (err){
		console.log(err);
	}
	finally{
		// initSearch();
	}

}

			 	
function getPersonInfo(personId){
	var result;
	try {
		// look up person's information
		return dataObject[personId];
	}
	catch (err){
		console.log(err);
	}

}

// function getDescendants(){

// }

function getFamily(id){
	// return list of names of immediate family members
}

// there will be much more here, and some of the code above will certainly change

//initSearch();
//window.close(); // exit window as the end of the session -- you may remove this